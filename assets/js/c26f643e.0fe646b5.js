"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[922],{3258:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"infra-monitoring/prometheus","title":"Prometheus Metrics","description":"CubeAPM can store Prometheus metrics. These metrics can the be used for any purpose in CubeAPM, e.g., building dashboards, setting up alerts, etc.","source":"@site/docs/infra-monitoring/6_prometheus.md","sourceDirName":"infra-monitoring","slug":"/infra-monitoring/prometheus-metrics","permalink":"/infra-monitoring/prometheus-metrics","draft":false,"unlisted":false,"editUrl":"https://github.com/cubeapm/docs/docs/docs/infra-monitoring/6_prometheus.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"slug":"/infra-monitoring/prometheus-metrics"},"sidebar":"tutorialSidebar","previous":{"title":"AWS CloudWatch","permalink":"/infra-monitoring/aws-cloudwatch"},"next":{"title":"Varnish Cache","permalink":"/infra-monitoring/varnish-cache"}}');var s=t(4848),i=t(8453);const o={sidebar_position:6,slug:"/infra-monitoring/prometheus-metrics"},c="Prometheus Metrics",a={},l=[];function u(e){const n={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"prometheus-metrics",children:"Prometheus Metrics"})}),"\n",(0,s.jsx)(n.p,{children:"CubeAPM can store Prometheus metrics. These metrics can the be used for any purpose in CubeAPM, e.g., building dashboards, setting up alerts, etc."}),"\n",(0,s.jsxs)(n.p,{children:["Prometheus exporters generally expose data on ",(0,s.jsx)(n.code,{children:"/metrics"})," HTTP path on given IP address and port. To collect these metrics from there and push them to CubeAPM, we use OpenTelemetry collector. The collector can be installed by following the appropriate link below:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/infra-monitoring/bare-metal-virtual-machine",children:"Bare Metal / Virtual Machine"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/infra-monitoring/kubernetes",children:"Kubernetes"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Once the collector is installed, we can add the below configuration to it to send the Prometheus metrics to CubeAPM:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="config.yaml"',children:'receivers:\n  # Add prometheus receiver and configure it to scrape metrics\n  prometheus:\n    config:\n      scrape_configs:\n        - job_name: "varnish"\n          scrape_interval: 60s\n          static_configs:\n            - targets: ["localhost:9131"]\n\nservice:\n  pipelines:\n    metrics:\n      receivers:\n        # add prometheus to the list of active receivers\n        - prometheus\n      processors:\n        # ...\n      exporters:\n        # ...\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var r=t(6540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);