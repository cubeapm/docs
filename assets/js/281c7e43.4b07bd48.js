"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1326],{5618:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>c,frontMatter:()=>l,metadata:()=>a,toc:()=>r});const a=JSON.parse('{"id":"instrumentation/datadog/php-slim","title":"PHP Slim","description":"Installation","source":"@site/docs/instrumentation/datadog/php-slim.md","sourceDirName":"instrumentation/datadog","slug":"/instrumentation/datadog/php-slim","permalink":"/instrumentation/datadog/php-slim","draft":false,"unlisted":false,"editUrl":"https://github.com/cubeapm/docs/docs/docs/instrumentation/datadog/php-slim.md","tags":[],"version":"current","frontMatter":{"id":"php-slim","title":"PHP Slim","slug":"/instrumentation/datadog/php-slim"},"sidebar":"tutorialSidebar","previous":{"title":"PHP Laravel","permalink":"/instrumentation/datadog/php-laravel"},"next":{"title":"Python Django Gunicorn","permalink":"/instrumentation/datadog/python-django-gunicorn"}}');var i=n(4848),o=n(8453);const l={id:"php-slim",title:"PHP Slim",slug:"/instrumentation/datadog/php-slim"},s=void 0,d={},r=[{value:"Installation",id:"installation",level:2},{value:"Sample App",id:"sample-app",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function p(e){const t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Install the Datadog PHP tracer."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"curl -LO https://github.com/DataDog/dd-trace-php/releases/latest/download/datadog-setup.php\nphp datadog-setup.php --php-bin=all\nrm datadog-setup.php\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Configure the tracer for CLI (the config file is generally available at ",(0,i.jsx)(t.code,{children:"/etc/php/<php_version>/cli/conf.d/98-ddtrace.ini"}),")."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ini",metastring:'title="ddtrace.ini"',children:"datadog.service = <app_name>\n# send traces to CubeAPM\ndatadog.trace.agent_url = http://<ip_address_of_cubeapm_server>:3130\n# optional settings\ndatadog.env = myenv\ndatadog.version = 1.2.3\ndatadog.tags = mykey1:myvalue1,mykey2:myvalue2\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Configure the tracer for FPM (the config file is generally available at ",(0,i.jsx)(t.code,{children:"/etc/php/<php_version>/fpm/conf.d/98-ddtrace.ini"}),")."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ini",metastring:'title="ddtrace.ini"',children:"datadog.service = <app_name>\n# send traces to CubeAPM\ndatadog.trace.agent_url = http://<ip_address_of_cubeapm_server>:3130\n# optional settings\ndatadog.env = myenv\ndatadog.version = 1.2.3\ndatadog.tags = mykey1:myvalue1,mykey2:myvalue2\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"sample-app",children:"Sample App"}),"\n",(0,i.jsxs)(t.p,{children:["A working example is available at ",(0,i.jsx)(t.a,{href:"https://github.com/cubeapm/sample_app_php_slim/tree/datadog",children:"https://github.com/cubeapm/sample_app_php_slim/tree/datadog"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(t.p,{children:"The following can be used for troubleshooting:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ini",metastring:'title="ddtrace.ini"',children:"# When enabled, sends debug logs to PHP's error_log instead of datadog.trace.log_file\ndatadog.trace.debug = On\n# Send debug logs to a log file for CLI\ndatadog.trace.log_file = /var/log/php8.3-cli.log\n# Send debug logs to a log file for FPM\ndatadog.trace.log_file = /var/log/php8.3-fpm.log\n\n# Enable Datadog tracer debug logging if needed to see detailed log \ndatadog.trace.log_level = debug\n"})})]})}function c(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>s});var a=n(6540);const i={},o=a.createContext(i);function l(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);