"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8863],{8453:(e,i,n)=>{n.d(i,{R:()=>c,x:()=>r});var o=n(6540);const t={},s=o.createContext(t);function c(e){const i=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),o.createElement(s.Provider,{value:i},e.children)}},9575:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"configuration/single-sign-on/oauth_microsoft","title":"Sign in with Microsoft","description":"To enable Sign in with Microsoft, you need to create an OAuth app in your Microsoft account. The following steps guide you through the process:","source":"@site/docs/configuration/single-sign-on/3_oauth_microsoft.md","sourceDirName":"configuration/single-sign-on","slug":"/configure/single-sign-on/sign-in-with-microsoft","permalink":"/configure/single-sign-on/sign-in-with-microsoft","draft":false,"unlisted":false,"editUrl":"https://github.com/cubeapm/docs/docs/docs/configuration/single-sign-on/3_oauth_microsoft.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"slug":"/configure/single-sign-on/sign-in-with-microsoft"},"sidebar":"tutorialSidebar","previous":{"title":"Sign in with GitHub","permalink":"/configure/single-sign-on/sign-in-with-github"},"next":{"title":"Sign in with OneLogin","permalink":"/configure/single-sign-on/sign-in-with-onelogin"}}');var t=n(4848),s=n(8453);const c={sidebar_position:3,slug:"/configure/single-sign-on/sign-in-with-microsoft"},r="Sign in with Microsoft",l={},a=[];function d(e){const i={a:"a",code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"sign-in-with-microsoft",children:"Sign in with Microsoft"})}),"\n",(0,t.jsx)(i.p,{children:"To enable Sign in with Microsoft, you need to create an OAuth app in your Microsoft account. The following steps guide you through the process:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Go to ",(0,t.jsx)(i.a,{href:"https://portal.azure.com/",children:"Azure Portal"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Navigate to Azure Active Directory > App registrations > New registration"}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Fill below details:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Name"}),": CubeAPM"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Redirect URIs"}),": ",(0,t.jsx)(i.code,{children:"<cubeapm_address>/api/auth/self-service/methods/oidc/callback/microsoft"}),", e.g., ",(0,t.jsx)(i.a,{href:"https://cubeapm.yourdomain.com/api/auth/self-service/methods/oidc/callback/microsoft",children:"https://cubeapm.yourdomain.com/api/auth/self-service/methods/oidc/callback/microsoft"}),' ( Please choose option as "Web" for setting redirect URL)']}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Save the Application (client) ID and Directory (tenant) ID"}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Configure App Secrets"}),"\n",(0,t.jsx)(i.p,{children:"Under Certificates & secrets -> Click New client secret -> Save the client secret securely ( this is your client-secret)"}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Expose Permissions"}),"\n",(0,t.jsx)(i.p,{children:"In API permissions, add: openid, email, profile"}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["The above Client ID, Client Secret and Client Tenant can be provided to CubeAPM to enable Sign in with Microsoft (set ",(0,t.jsx)(i.code,{children:"auth.oidc.microsoft.client-id"}),", ",(0,t.jsx)(i.code,{children:"auth.oidc.microsoft.client-secret"})," and ",(0,t.jsx)(i.code,{children:"auth.oidc.microsoft.tenant"})," properties in ",(0,t.jsx)(i.code,{children:"/etc/cubeapm/config.properties"}),", or ",(0,t.jsx)(i.code,{children:"configVars.auth.oidc.microsoft.clientId"}),", ",(0,t.jsx)(i.code,{children:"configVars.auth.oidc.microsoft.clientSecret"})," and ",(0,t.jsx)(i.code,{children:"configVars.auth.oidc.microsoft.tenant"})," in helm chart values file)."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);