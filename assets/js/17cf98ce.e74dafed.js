"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[83],{8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>s});var t=l(6540);const i={},a=t.createContext(i);function r(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:n},e.children)}},8955:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"instrumentation/newrelic/php-laravel","title":"PHP Laravel","description":"Installation","source":"@site/docs/instrumentation/newrelic/php-laravel.md","sourceDirName":"instrumentation/newrelic","slug":"/instrumentation/newrelic/php-laravel","permalink":"/instrumentation/newrelic/php-laravel","draft":false,"unlisted":false,"editUrl":"https://github.com/cubeapm/docs/docs/docs/instrumentation/newrelic/php-laravel.md","tags":[],"version":"current","frontMatter":{"id":"php-laravel","title":"PHP Laravel","slug":"/instrumentation/newrelic/php-laravel"},"sidebar":"tutorialSidebar","previous":{"title":"NodeJS Nest","permalink":"/instrumentation/newrelic/nodejs-nest"},"next":{"title":"PHP Slim","permalink":"/instrumentation/newrelic/php-slim"}}');var i=l(4848),a=l(8453);const r={id:"php-laravel",title:"PHP Laravel",slug:"/instrumentation/newrelic/php-laravel"},s=void 0,o={},c=[{value:"Installation",id:"installation",level:2},{value:"Sample App",id:"sample-app",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.p,{children:"Following are the steps to install the New Relic agent and connect it with CubeAPM. If New Relic agent is already installed, you can jump to step 3."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Follow this link to install New Relic agent: ",(0,i.jsx)(n.a,{href:"https://docs.newrelic.com/docs/apm/agents/php-agent/installation/php-agent-installation-overview",children:"https://docs.newrelic.com/docs/apm/agents/php-agent/installation/php-agent-installation-overview"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Configure the agent (the config file is generally available at ",(0,i.jsx)(n.code,{children:"/etc/php/<php_version>/mods-available/newrelic.ini"}),")."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",metastring:'title="newrelic.ini"',children:'newrelic.license = "ABC4567890ABC4567890ABC4567890ABC4567890"\nnewrelic.appname = "<app_name>"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Tell the agent to connect with CubeAPM instead of New Relic:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",metastring:'title="newrelic.ini"',children:'newrelic.daemon.collector_host = "<domain_of_cubeapm_server>"\n\n# remove irrelevant spans from traces (optional but highly recommended)\nnewrelic.transaction_tracer.detail = 0\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/instrumentation/newrelic",children:"Using CubeAPM with New Relic agents"})," for details on how to set up ",(0,i.jsx)(n.code,{children:"<domain_of_cubeapm_server>"}),"."]})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"sample-app",children:"Sample App"}),"\n",(0,i.jsxs)(n.p,{children:["A working example is available at ",(0,i.jsx)(n.a,{href:"https://github.com/cubeapm/sample_app_php_laravel/tree/newrelic",children:"https://github.com/cubeapm/sample_app_php_laravel/tree/newrelic"})]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.p,{children:"The following can be used for troubleshooting:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",metastring:'title="newrelic.ini"',children:'newrelic.loglevel = "debug"\n# newrelic.logfile = "/var/log/newrelic/php_agent.log"\n\nnewrelic.daemon.loglevel = "debug"\n# newrelic.daemon.logfile = "/var/log/newrelic/newrelic-daemon.log"\n'})})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);