"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1265],{769:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>r,contentTitle:()=>d,default:()=>c,frontMatter:()=>i,metadata:()=>n,toc:()=>s});const n=JSON.parse('{"id":"instrumentation/datadog/php-laravel","title":"PHP Laravel","description":"Installation","source":"@site/docs/instrumentation/datadog/php-laravel.md","sourceDirName":"instrumentation/datadog","slug":"/instrumentation/datadog/php-laravel","permalink":"/instrumentation/datadog/php-laravel","draft":false,"unlisted":false,"editUrl":"https://github.com/cubeapm/docs/docs/docs/instrumentation/datadog/php-laravel.md","tags":[],"version":"current","frontMatter":{"id":"php-laravel","title":"PHP Laravel","slug":"/instrumentation/datadog/php-laravel"},"sidebar":"tutorialSidebar","previous":{"title":"NodeJS Nest","permalink":"/instrumentation/datadog/nodejs-nest"},"next":{"title":"PHP Slim","permalink":"/instrumentation/datadog/php-slim"}}');var l=t(4848),o=t(8453);const i={id:"php-laravel",title:"PHP Laravel",slug:"/instrumentation/datadog/php-laravel"},d=void 0,r={},s=[{value:"Installation",id:"installation",level:2},{value:"Sample App",id:"sample-app",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function p(e){const a={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.h2,{id:"installation",children:"Installation"}),"\n",(0,l.jsxs)(a.ol,{children:["\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsx)(a.p,{children:"Install the Datadog PHP tracer."}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-shell",children:"curl -LO https://github.com/DataDog/dd-trace-php/releases/latest/download/datadog-setup.php\nphp datadog-setup.php --php-bin=all\nrm datadog-setup.php\n"})}),"\n"]}),"\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsxs)(a.p,{children:["Configure the tracer for CLI (the config file is generally available at ",(0,l.jsx)(a.code,{children:"/etc/php/<php_version>/cli/conf.d/98-ddtrace.ini"}),")."]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-ini",metastring:'title="ddtrace.ini"',children:"datadog.service = <app_name>\n# send traces to CubeAPM\ndatadog.trace.agent_url = http://<ip_address_of_cubeapm_server>:3130\n# optional settings\ndatadog.env = myenv\ndatadog.version = 1.2.3\ndatadog.tags = mykey1:myvalue1,mykey2:myvalue2\n"})}),"\n"]}),"\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsxs)(a.p,{children:["Configure the tracer for FPM (the config file is generally available at ",(0,l.jsx)(a.code,{children:"/etc/php/<php_version>/fpm/conf.d/98-ddtrace.ini"}),")."]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-ini",metastring:'title="ddtrace.ini"',children:"datadog.service = <app_name>\n# send traces to CubeAPM\ndatadog.trace.agent_url = http://<ip_address_of_cubeapm_server>:3130\n# optional settings\ndatadog.env = myenv\ndatadog.version = 1.2.3\ndatadog.tags = mykey1:myvalue1,mykey2:myvalue2\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(a.h2,{id:"sample-app",children:"Sample App"}),"\n",(0,l.jsxs)(a.p,{children:["A working example is available at ",(0,l.jsx)(a.a,{href:"https://github.com/cubeapm/sample_app_php_laravel/tree/datadog",children:"https://github.com/cubeapm/sample_app_php_laravel/tree/datadog"}),"."]}),"\n",(0,l.jsx)(a.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(a.p,{children:"The following can be used for troubleshooting:"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-ini",metastring:'title="ddtrace.ini"',children:"# When enabled, sends debug logs to PHP's error_log instead of datadog.trace.log_file\ndatadog.trace.debug = On\n# Send debug logs to a log file for CLI\ndatadog.trace.log_file = /var/log/php8.3-cli.log\n# Send debug logs to a log file for FPM\ndatadog.trace.log_file = /var/log/php8.3-fpm.log\n\n# Enable Datadog tracer debug logging if needed to see detailed log \ndatadog.trace.log_level = debug\n"})})]})}function c(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,l.jsx)(a,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}},8453:(e,a,t)=>{t.d(a,{R:()=>i,x:()=>d});var n=t(6540);const l={},o=n.createContext(l);function i(e){const a=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),n.createElement(o.Provider,{value:a},e.children)}}}]);